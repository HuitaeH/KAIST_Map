# 프로젝트 간단 소개 🍽️

**“오넙뭐”**는 ‘오늘 넙죽이는 뭐먹지’ 의 줄임말로, 카이스트 주변에서 점심 혹은 저녁을 해결할 수 있는 좋은 식당들을 소개하는 플랫폼입니다. 저희 플랫폼의 로고로 쓰인 넙죽이는 카이스트의 마스코트로, **“오넙뭐”**를 사용하시는 여러분들을 환상적인 맛집으로 인도해드릴 것입니다. 

- **카이마루** 등의 교내 학식 카페테리아부터, **골목** 같은 어은동 고기 맛집까지, 선별된 맛집 정보 리스트를 한눈에 확인할 수 있습니다.
- **NAVER API**를 사용한 **지도 기능**을 통해서 맛집들의 위치를 손쉽게 파악할 수 있습니다.
- **맛집 상세 정보** 기능을 통해서, 해당 식당의 **주소**, **전화번호** 등의 상세정보 확인이 가능합니다.
- 여러 가지 선택지에서 방황할 여러분들을 위한, **룰렛 기능**이 구현되어 있습니다.

---

# 기술 스택

- 언어: Kotlin
- IDE: Android Studio

---

# Team

- 유재우 https://github.com/Jaiwooyu
- 한희태 https://github.com/HuitaeH

---

## 앱 아이콘 및 스플래시 화면 전환

- 앱 아이콘은 카이스트 마스코트인 넙죽이를 채택하여 사용했습니다.
- 앱을 실행하면 앱 로고인 넙죽이와 함께 앱 이름이 잠시 보여집니다.
- 스플래시 화면 전환을 구현하기 위해 `android.content.Intent`와 Delay 기능을 이용했습니다

---

## Tab 0: 맛집 지도 화면

- 스플래시 화면 전환 이후 나오는 시작 화면입니다.
    - 하단 바의 가장 왼쪽 버튼을 눌러 이동할 수도 있습니다.
- 네이버 지도 API (`NaverMap`)를 가져와 실제 카이스트 주변 지도를 보여줍니다.
    - 손가락으로 밀기, 오므리기, 펼치기 등의 제스쳐로 화면 이동 및 확대, 축소가 가능합니다
- 지도 위에 JSON 형식의 위치 좌표 데이터를 이용하여 맛집 위치에 맛집 이름과 마커를 올려두었습니다.
    - 한식 , 중식, 일식, 양식, 기타로 음식점 카테고리를 나눠 마커 아이콘으로 보여줌으로써 직관성을 올렸습니다.
    - 마커를 클릭한다면 Tab2에 해당하는 맛집 상세 정보 창으로 이동할 수 있습니다.
- 가장 상단에는 `EditText` 를 이용해 구현한 검색창을 추가하여 원하는 음식점의 위치를 빠르게 찾아볼 수 있도록 만들었습니다.
    - 특정 음식점의 이름을 검색하여 위치를 볼 수 있습니다.
    - 또는 “#카테고리” 형식(예: #한식)의 키워드 형식으로 해당 카테고리의 음식점만 볼 수 있습니다.
- 하단에는 세가지 버튼이 있는 바를 만들어 다른 탭으로의 이동을 편리하게 만들었습니다.
    - 가운데 버튼을 눌러 룰렛 화면으로, 오른쪽 버튼을 눌러 찾아보기(맛집 리스트) 화면으로 이동할 수 있습니다.
    - 하단 바의 지도 보기를 누른다면 카이스트가 중심에 있는 지도 시작 화면으로 되돌아갈 수 있습니다.
    
    ---
    

## Tab 1: 맛집 리스트 화면

- 하단 바의 우측 버튼을 눌러 이동할 수 있습니다.
- 데이터 파일에 있는 모든 식당의 식당명, 카테고리, 간단 주소, 이미지를 상하로 스크롤 할 수 있는 
`RecyclerView`를 통해 보여줍니다.

- 이름 옆에 있는 ‘정보’ 아이콘을 눌러 식당 상세 페이지로 이동할 수 있습니다.

- 상단에는 카테고리를 선택 또는 해제할 수 있는 버튼이 있어 원하는 카테고리의 식당만 모아볼 수 있습니다.
    - 만약 카테고리에 해당하는 식당이 없다면 *“해당되는 식당이 없습니다”* 라는 메시지를 보여줍니다
    
    ---
    

## Tab2: 맛집 상세 정보 창

- 지도에서 마커를 클릭하거나 맛집 리스트 화면에서 ‘정보’ 아이콘을 눌러 이동할 수 있습니다.
- 식당 이름, 주소, 전화번호, 사진, 그리고 간단한 한 줄 설명을 보여줍니다.
    - `DialogFragment` 를 사용하여, 일반 Tab 이 아닌 Dialog 형식의 팝업창을 띄워 쉽고 빠르게 식당에 대한 정보를 확인할 수 있습니다.
    - 사진 같은 경우에는 식당 사진이 우선 보여지고 `ViewPager2` 를 이용하여, 스와이프 기능을 구현해 대표 음식 사진들을 손쉽게 확인할 수 있습니다.
    - 우측 상단에는 `ImageButton` 기능을 이용한 ‘X’ 버튼을 만들어 팝업창을 쉽게 닫을 수 있습니다.
    - 또한 팝업창 바깥 부분을 눌러서도 창을 닫을 수 있습니다.
- 전화번호는 `Intent.*ACTION_DIAL`* 기능을 이용하여 클릭 시에 바로 ‘전화’ 로 넘어가 식당에 전화할 수 있도록 했습니다.
    - 카이마루, 교수회관처럼 전화번호가 없는 식당은 전화번호 대신 “전화번호가 등록되지 않았습니다”라는 텍스트가 보입니다.

---

## Tab3: 메뉴 선정 룰렛 창

- 하단 바 가운데 있는 ‘룰렛’ 아이콘을 클릭하여 볼 수 있습니다.
- 메뉴 선정에 있어 종종 겪는 어려움을 쉽고 재밌게 해소하는 기능입니다.
- 상세 정보창처럼 Dialog를 사용한 팝업창으로 보여져 접근성이 쉽고 ‘X’ 버튼이나 화면 바깥을 눌러 닫을 수 있습니다.
- 룰렛은 총 2개의 Kotlin 파일과 1개의 xml 파일로 만들었습니다.
    - 첫번째 Kotlin 파일에서는 `android.graphics` 를 이용하여 룰렛을 그렸습니다.
    - 두번째 Kotlin 파일에서는 `android.animation`등의 기능으로 동작 구현을 했습니다.
- 상단의 ‘+’, ‘-’ 버튼을 눌러 2개에서 6개까지의 메뉴를 추가할 수 있습니다.
    - 2개일 때는 ‘-’ 버튼이, 6개일 때는 ‘+’ 버튼이 비활성화 되어 정해진 범위 내의 숫자만 선택할 수 있습니다.
    - 비활성화된 버튼은 이미지의 `*alpha*`값을 조정하여 시각적으로 색이 연해지게 만들었습니다.
- 상단에 있는 메뉴 개수에 따라 메뉴 입력칸의 개수가 실시간으로 추가, 제거됩니다.
    - 입력칸을 모두 채워야 룰렛을 돌릴 수 있습니다.
    - 메뉴 입력칸에 입력되는 텍스트는 실시간으로 룰렛 위에 입력이 됩니다.
- 화면 가운데에 있는 “GO!” 를 누른다면 룰렛이 돌아갑니다.
    - 다양한 기능을 사용해보기 위해 `ImageButton`이 아닌 특정 위치를 지정해 그곳에 터치를 감지하여 신호를 주는 식의 방식을 선택했습니다.
- 룰렛의 화살표가 가르키는 값을 `Toast` 메시지로 결과를 발표합니다.
    - 룰렛의 절대적인 회전각이 얼마나 되었는지를 계산하여 0도(북쪽)에 있는 Sector 가 가지고 있는 값을 결과값으로 받습니다.

- 룰렛을 돌리면서 있을 수 있는 여러가지 버그를 미리 예방하였습니다.
    - 예시)
    - 룰렛만 돌아가지 않고 전체 화면이 돌아간다
    - 메뉴를 추가하지 않고 돌렸을 때 앱이 종료된다
    - 룰렛을 돌리던 중 팝업창을 닫았을 때 앱이 종료된다
